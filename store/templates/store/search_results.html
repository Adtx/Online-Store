{% extends "store/store_base.html" %} {% block additional_scripts %}

<script type="text/javascript" src="https://www.pcdiga.com/js/prototype/prototype.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/prototype/validation.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/scriptaculous/builder.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/scriptaculous/effects.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/scriptaculous/dragdrop.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/scriptaculous/controls.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/scriptaculous/slider.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/varien/js.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/varien/form.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/js/aw_ajaxcartpro/updaters/sidebar.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/rwd/default/js/manapro_filterajax.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filtercolors.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/rwd/default/js/manapro_filterexpandcollapse.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/rwd/default/js/manapro_filtergroup.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filterhelp.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filterpositioning.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filtershowmore.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/price_slider.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filterslider.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filtersuperslider.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/js/manapro_filtertree.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/nwdthemes/revslider/public/assets/js/jquery.themepunch.tools.min.js"></script>
<script type="text/javascript" src="https://www.pcdiga.com/skin/frontend/base/default/nwdthemes/revslider/public/assets/js/jquery.themepunch.revolution.min.js"></script> 

{% endblock %} 

{% block main %}

<div class="main-container col2-left-layout">
    <div class="algolia-instant-results-wrapper">
        <div class="main algolia-instant-replaced-content">
            <div class="col-left sidebar col-left-first">
                <div class="manab-left-first mb-left-first">
                    <div class="manab-mana-catalog-leftnav mb-mana-catalog-leftnav">
                        <div class="block block-layered-nav block-layered-nav--no-filters">
                            <div class="block-title">
                                <strong>
                                    <span>Pesquise por</span>
                                </strong>
                            </div>
                            <div class="block-content toggle-content">

                                <div class="block-subtitle block-subtitle--filter m-filter-group " data-id="left-0">
                                    <span class="wide-title ">Pesquise por</span>
                                    <span class="mobile-title">Filtro</span>
                                </div>

                                <dl class="narrow-by-list" id="narrow-by-list-0">
                                    <dt class="even" data-id="m_left_manufacturer_filter">
                                        Marca </dt>
                                    <dd class="even">

                                        <ol class="m-filter-css-checkboxes  m-expandable-filter" style="height: 108px;">
                                            {% for key, value in checkboxclass.items %}
                                                <li>
                                                    <a class="{{value}}" href="{% url 'filter_results' %}?brand={{key}}"
                                                        title="AOC">{{key}}
                                                    </a>
                                                </li>
                                            {% endfor %}
                                        </ol>

                                    </dd>
                                    <dt class="even" data-id="m_left_price_filter">
                                        Preço </dt>
                                    <form method="POST" action="{% url 'filter_results' %}" id="priceRangeForm" style="padding: 0px; margin: 0px;">
                                        {% csrf_token %}
                                        <input id="minmaxhidden" type="hidden" value="" name="priceRange" />
                                    </form>
                                    <dd class="even">
                                        <div id="left_price-track" class="m-filter-slider style2">
                                            <div id="left_price-span" class="m-slider-span" style="left: 5px; width: 240px;"></div>
                                            <div id="left_price-from" class="m-slider-from selected" style="left: 0px;" onmouseup="sendPriceRange()"></div>
                                            <div id="left_price-to" class="m-slider-to" style="left: 240px;" onmouseup="sendPriceRange()"></div>
                                        </div>
                                        <div class="m-slider-values">
                                            <span id="left_price-range-from" class="m-slider-min-value">{{min}}&nbsp;€</span>
                                            <span id="left_price-range-to" class="m-slider-max-value">{{max}}&nbsp;€</span>
                                            <span id="left_price-applied" class="m-slider-selected-value">{{min}}&nbsp;€ até {{max}}&nbsp;€</span>
                                        </div>

                                        <script type="text/javascript">
                                            //<![CDATA[
                                            ManaPro.filterSuperSlider('left_price', {
                                                rangeFrom: 0,
                                                rangeTo: 4300,
                                                appliedFrom: 0,
                                                appliedTo: 4300,
                                                numberFormat: "0 €",
                                                appliedFormat: '__0__ to __1__',
                                                url: 'aHR0cHM6Ly93d3cucGNkaWdhLmNvbS9tb25pdG9yZXMvcHJlJUMzJUE3by9fXzBfXy1fXzFfXw==',
                                                clearUrl: 'aHR0cHM6Ly93d3cucGNkaWdhLmNvbS9tb25pdG9yZXM=',
                                                manualEntry: 0,
                                                formatThreshold: 0,
                                                numberFormat2: "0",
                                                existingValues: {},
                                                decimalDigits: 0,
                                                decimalDigits2: 0,
                                                thousandSeparator: '0',
                                                decimalSymbol: ",",
                                                groupSymbol: " "
                                            });
                    //]]>
                                        </script>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-main">
                <div class="manab-content mb-content">
                    <div id="algolia-autocomplete-container"></div>
                    <style>
                        .bestsllerbrand .shopbybrand-title h1,
                        .brand-search .shopbybrand-title h1,
                        .shopbybrand-title h1 {
                            background-color: #1C4894;
                            color: #FFFFFF;
                        }

                        .shopbybrand-list .brands .brandslist .brand-begin-label strong {
                            background-color: #00A2FF;
                            color: #FFFFFF;
                        }

                        .shopbybrand-list .charlist a {
                            background-color: #EEEEEE !important;
                            color: #707070 !important;
                        }

                        .shopbybrand-list .brands .brandslist .brand-begin-label {
                            border-bottom: 1px solid #00A2FF !important;
                        }

                        .shopbybrand-list .filterbar #charaters-list ul li.charlist a:hover,
                        .shopbybrand-list .filterbar #charaters-list ul li.isActiveCate a,
                        .shopbybrand-list .filterbar #charaters-list ul li.charlist a.isActiveCate {
                            background-color: #1C4894 !important;
                            color: #FFFFFF !important;
                        }

                        .shopbybrand-list a {
                            color: #00A2FF !important;
                        }

                        .shopbybrand-list a:hover {
                            color: #1C4894 !important;
                        }

                        @media screen and (min-width:768px) and (max-width: 979px) {
                            .shopbybrand_sidebar .shopbybrand-title h1,
                            .brand-search .shopbybrand-title h1,
                            .bestsllerbrand .shopbybrand-title h1 {
                                background-color: #1C4894 !important;
                            }
                        }
                    </style>

                    <div class="category-products">
                        <div class="toolbar">
                            <div class="sorter">
                                <p class="view-mode">
                                </p>
                            </div>
                            <div class="pager">
                                <div class="count-container">
                                    <p class="amount amount--has-pages">
                                        1-24 of 288 </p>
                                </div>
                            </div>

                            <!-- <div class="pages">
                                <strong>Pagina:</strong>
                                <ol>

                                    <li class="current">1</li>
                                    <li>
                                        <a href="https://www.pcdiga.com/monitores/page/2">2</a>
                                    </li>
                                    <li>
                                        <a href="https://www.pcdiga.com/monitores/page/3">3</a>
                                    </li>
                                    <li>
                                        <a href="https://www.pcdiga.com/monitores/page/4">4</a>
                                    </li>
                                    <li>
                                        <a href="https://www.pcdiga.com/monitores/page/5">5</a>
                                    </li>

                                    <li>
                                        <a class="next" href="https://www.pcdiga.com/monitores/page/2" title="Seguinte">
                                            Next </a>
                                    </li>
                                </ol>

                            </div> -->

                            <div class="sort-by">
                                <form method="POST" action="{% url 'sort_results' %}" id="sortForm" style="padding: 0px; margin: 0px;">
                                    {% csrf_token %}
                                    <input id="escondido" type="hidden" value="" name="selected_option" />
                                    <label>Ordenar por</label>
                                    <select title="Ordenar por" name="sortby" form="sortForm" onchange="if (typeof(this.selectedIndex) != 'undefined') setValue(this.selectedIndex)">
                                        <option value="price" selected="{{selected1}}">
                                            Mais barato </option>
                                        <option value="-price" selected="{{selected2}}">
                                            Mais caro </option>
                                    </select>
                                </form>
                            </div>
                        </div>

                        <ul class="products-grid products-grid--max-4-col first last odd">
                            {% for p in products %}
                            <li class="item last">

                                <a href="{% url 'product_details' ean=p.ean %}" title="{{p.name}}" class="product-image">
                                    <img id="product-collection-image-456" src="http://localhost/static/products/{{p.image}}" alt="{{p.name}}">
                                </a>
                                <div class="product-info" style="padding-bottom: 28px; min-height: 178px;">
                                    <h2 class="product-name" style="margin-top:10px;">
                                        <a href="{% url 'product_details' ean=p.ean %}" title="{{p.name}}">{{p.name}}</a>
                                    </h2>

                                    <div class="extra-info">
                                        <i class="icon-availability icon-stock-in"></i>
                                        <span class="stock-in"> Em Stock</span>
                                    </div>
                                    
                                    <form method="POST" id="addCartItem1" action="{% url 'add_cart_item' %}" style="padding: 0px; margin: 0px;">
                                        {% csrf_token %}
                                        <input type="hidden" name="product_ean" value="{{p.ean}}" />
                                        <div class="actions" onclick="sendDados(this)">

                                            <div class="price-box Tsaleable">

                                                <p class="special-price">
                                                    <span class="price-label"></span>
                                                    <span class="price" id="product-price-456">
                                                        {{p.price}}&nbsp;€ </span>
                                                </p>

                                            </div>

                                            <button type="button" title="Comprar" class="button btn-cart" onclick="setLocation('https://www.pcdiga.com/checkout/cart/add/uenc/aHR0cHM6Ly93d3cucGNkaWdhLmNvbS9tb25pdG9yZXM,/product/456/form_key/KFOmacvFSSkeyjEi/')">
                                                <span>
                                                    <i class="icon-pc-cart"></i>
                                                    <span>Comprar</span>
                                                </span>
                                            </button>
                                        </div>
                                    </form>

                                </div>
                            </li>
                            {% endfor %}

                        </ul>
                        <!-- <script type="text/javascript">decorateGeneric($$('ul.products-grid'), ['odd', 'even', 'first', 'last'])</script> -->


                        <div class="toolbar-bottom">
                            <div class="toolbar">
                                <div class="sorter">
                                    <p class="view-mode">
                                    </p>
                                </div>
                                <div class="pager">
                                    <div class="count-container">
                                        <p class="amount amount--has-pages">
                                            1-24 of 288 </p>
                                    </div>
                                </div>

                                <!-- <div class="pages">
                                    <strong>Pagina:</strong>
                                    <ol>

                                        <li class="current">1</li>
                                        <li>
                                            <a href="https://www.pcdiga.com/monitores/page/2">2</a>
                                        </li>
                                        <li>
                                            <a href="https://www.pcdiga.com/monitores/page/3">3</a>
                                        </li>
                                        <li>
                                            <a href="https://www.pcdiga.com/monitores/page/4">4</a>
                                        </li>
                                        <li>
                                            <a href="https://www.pcdiga.com/monitores/page/5">5</a>
                                        </li>

                                        <li>
                                            <a class="next" href="https://www.pcdiga.com/monitores/page/2" title="Seguinte">
                                                Next </a>
                                        </li>
                                    </ol>

                                </div> -->



                                <div class="sort-by">
                                    <form method="POST" action="{% url 'sort_results' %}" id="sortForm" style="padding: 0px; margin: 0px;">
                                        {% csrf_token %}
                                        <input id="escondido" type="hidden" value="" name="selected_option" />
                                        <label>Ordenar por</label>
                                        <select title="Ordenar por" name="sortby" form="sortForm" onchange="setValue(this.selectedIndex);">
                                            <option value="price" selected="{{selected1}}">
                                                Mais barato </option>
                                            <option value="-price" selected="{{selected2}}">
                                                Mais caro </option>
                                        </select>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>

                    <script>
                        function setValue(arg) {
                            alert("funcao chamada");
                            document.getElementById('escondido').value = arg;
                            document.getElementById('sortForm').submit();
                        }
                    </script>

                    <script>
                        function sendPriceRange() {
                            priceRangeData = document.getElementById("left_price-applied").innerHTML;
                            document.getElementById('minmaxhidden').value = priceRangeData;
                            document.getElementById('priceRangeForm').submit();
                        }
                    </script>

                    <script>
                        function sendDados(el) {
                            el.parentNode.submit();
                            //element.form.submit();
                        }
                    </script>

                    <!-- <script>
                            function setValue(this) {
                                var valor = 0;
                                var options = this.children;
                                for (i = 0; i < options.length; i++) {
                                    if (options[i].selected == "true"){
                                        valor = i;
                                    }
                                }
                                document.getElementById('escondido').value = valor;
                                this.form.submit();
                            }
                        </script> -->


                    <!-- <script>
                            function sortResults(order) {
                                // var url = "https://127.0.0.1/store/product_search/sort?order=" + order
                                $.get("https://127.0.0.1/store/product_search/sort", { sortby: order });
                            }
                        </script> -->


                    <!-- <script type="text/javascript">
                        jQuery(document).ready(function () {

                            jQuery(window).scroll(function () {
                                if (jQuery(this).scrollTop() > 100) {
                                    jQuery('.gotoTop').fadeIn();
                                } else {
                                    jQuery('.gotoTop').fadeOut();
                                }
                            });

                            jQuery('.gotoTop').click(function () {
                                jQuery("html, body").animate({
                                    scrollTop: 0
                                }, 600);
                                return false;
                            });

                        });
                    </script> -->




                    <!--RTB House-->
                    <!-- <script type="text/javascript"> (function () { var x = document.createElement('script'); x.async = true; x.src = "//creativecdn.com/tags?type=script&" + (MageUserIdLoggedIn ? 'id0=pr_niO5dRX5PECEvayZYg2r_uid_' + MageUserIdLoggedIn + '&' : '') + "id=pr_niO5dRX5PECEvayZYg2r_category2_102"; document.getElementsByTagName('head')[0].appendChild(x); }()); </script> -->
                </div>
            </div>
        </div>
    </div>
</div>

</div>




{% endblock %}